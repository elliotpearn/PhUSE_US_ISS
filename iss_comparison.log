1                                                          The SAS System                                12:44 Friday, March 3, 2023

NOTE: Unable to open SASUSER.REGSTRY. WORK.REGSTRY will be opened instead.
NOTE: All registry changes will be lost at the end of the session.

WARNING: One or more libraries specified in the concatenated library SASHELP 
WARNING: do not exist.  These libraries were removed from the concatenation.
NOTE: Unable to open SASUSER.PROFILE. WORK.PROFILE will be opened instead.
NOTE: All profile changes will be lost at the end of the session.
NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software V.04.00 (TS M0) 
      Licensed to DOMINO DATA LAB INC - MICROSOFT AZURE, Site 70297955.
NOTE: This session is executing on the Linux 5.4.209-116.363.amzn2.x86_64 (LIN X64) platform.



NOTE: Additional host information:

 Linux LIN X64 5.4.209-116.363.amzn2.x86_64 #1 SMP Wed Aug 10 21:19:18 UTC 2022 x86_64 Red Hat Enterprise Linux release 8.6 (Ootpa) 

NOTE: SAS initialization used:
      real time           0.01 seconds
      cpu time            0.01 seconds
      
1          /******************Header Template V2***************************************
2          | Program Name: iss_comparison.sas
3          | Purpose: Tool to compare ISS study datasets back to original studies.
4          | Input Parameters:
5          | NAME                  DESCRIPTION                                                      DEFAULT
6          | -----------------     ------------------------------------------------------------    --------
7          | MAINLIB               Specifies the file directory of the ISS                          (None)
8          |
9          | COMPLIB               Specifies the file directory where the compare datasets          (None)
10         |                       will be created. RECOMMEND: Creating a test area within the
11         |                       same RE and copying folder structure.
12         |
13         | COMPN                 Specifies the number of studies included in the ISS              (None)
14         |
15         | DS_REMOVE             Specifies the name of any datasets that you do not want          (None)
16         |                       to compare
17         |
18         | LIB1-LIB6             Specifies the short names of the individual origin studies       (None)
19         |                       used to create datasets and library names (e.g STUDY1 for 1st
20         |                       comparison study)
21         |
22         | FILTER1-6             Specifies the filter required on the ISS datasets to create      (None)
23         |                       origin study datasets
24         |
25         |
26         | COMPLIB1-6            Specifies the library of the origin study                        (None)
27         |
28         | CSV                   Specifies the location and name of the CSV file required         (None)
29         |                       for renaming variables for comparison - ISS_Var_Rename.csv.
30         |                       CSV has 3 columns:
31         |                         DATASET - specify datasets where change is required in.
32         |                         STUDY - origin study where change is required
33         |                                (needs to match values in LIB1-LIB6)
34         |                         OLD_VAR - Name of variable in origin study
35         |                         NEW_VAR - Name of variable in ISS study
36         |
2                                                          The SAS System                                12:44 Friday, March 3, 2023

37         |
38         | COMPLOC               Specifies the desired location of the Compare PDFs               (None)
39         |
40         | DISP                  Specifies whether Displays will also be compared                  N
41         |
42         | DATAC                 Specifies whether Datasets will be compared                       Y
43         |
44         | DRIVLIB               Specifies the location of the display drivers                    (None)
45         |
46         | Input: n/a
47         | Output: list of output files or responses or `n/a`
48         |
49         | Global macro variables created: n/a
50         |
51         | Macros called: n/a
52         |
53         |
54         | Additional Notes:
55         |
56         |***************************************************************************
57         | ~Change Log~
58         | Version | Developer | Date        | Description
59         | 1       | ep582653 | 30-MAR-2022  | Creation
60         |
61         ****************************************************************************/
62         
63         %macro iss_comparison(
64                 folder =N,
65                 mainlib=,
66         		mainlib_data=,
67                 complib=,
68         		complib_data=,
69                 compn=,
70                 ds_remove =,
71                 lib1=,
72                 lib2=,
73                 lib3=,
74                 lib4=,
75                 lib5=,
76                 lib6=,
77                 filter1=,
78                 filter2=,
79                 filter3=,
80                 filter4=,
81                 filter5=,
82                 filter6=,
83                 complib1=,
84                 complib2=,
85                 complib3=,
86                 complib4=,
87                 complib5=,
88                 complib6=,
89                 compfilt1=,
90                 compfilt2=,
91                 compfilt3=,
92                 compfilt4=,
93                 compfilt5=,
94                 compfilt6=,
3                                                          The SAS System                                12:44 Friday, March 3, 2023

95                 csv =,
96                 comploc =,
97                 disp=N,
98                 datac=Y,
99                 drivlib =
100                );
101        
102        ***********************************************;
103        ************* USE IN ARWORK ONLY **************;
104        ***********************************************;
105        /*
106        %let mainlib_data=%str(/mnt/data/US_PhUSE_ISS_Tool/ISS/);
107        %let mainlib=%str(/mnt/code/ISS/);
108        %let complib=%str(/mnt/code/ISS/test/);
109        %let complib_data=%str(/mnt/data/US_PhUSE_ISS_Tool/test/);
110        %let compn=3;
111        %let ds_remove =("NONE");
112        %let lib1=STUDY1;
113        %let lib2=STUDY2;
114        %let lib3=STUDY3;
115        %let filter1=%str(STUDYID = "STUDY1");
116        %let filter2=%str(STUDYID = "STUDY2");
117        %let filter3=%str(STUDYID = "STUDY3");
118        %let csv = %str(/mnt/code/CSV/ISS_Var_Rename.csv);
119        %let complib1=%str('/mnt/data/US_PhUSE_ISS_Tool/Original/STUDY1');
120        %let complib2=%str('/mnt/data/US_PhUSE_ISS_Tool/Original/STUDY2');
121        %let complib3=%str('/mnt/data/US_PhUSE_ISS_Tool/Original/STUDY3');
122        %let comploc=%str(/mnt/code/ISS/Compares/);
123        %let compfilt1=;
124        %let compfilt2=;
125        %let compfilt3=;
126        %let compfilt4=;
127        %let compfilt5=;
128        %let disp = N;
129        %let drivlib = %str(/mnt/code/ISS/);
130        */
131        
132        %if &datac= Y %then %do;
133        
134        %if folder = Y %then %do;
135        %macro create_lib;
136        *Create a folder for comparison if required;
137        %let createlib = %sysfunc(dequote(&complib.));
138        %let createlib_data = %sysfunc(dequote(&complib_data.));
139        
140        data _null_;
141          call symput("folder","&createlib.");
142          call symput("folderd","&createlib_data.");
143          call symput("adam","&createlib_data./adamdata/");
144          call symput("ardata","&createlib./ardata/");
145          call symput("code","&createlib./code/");
146          call symput("dddata","&createlib./dddata/");
147          call symput("documents","&createlib./documents/");
148          call symput("driver","&createlib./drivers/");
149          call symput("output","&createlib./output/");
150          call symput("pkdata","&createlib./pkdata/");
151          call symput("rawdata","&createlib./rawdata/");
152          call symput("refdata","&createlib./refdata/");
4                                                          The SAS System                                12:44 Friday, March 3, 2023

153          call symput("logs","&createlib./saslogs/");
154          call symput("sdtm","&createlib./sdtm/");
155        run;
156        
157        x "mkdir &folder";
158        x "mkdir &folderd";
159        x "mkdir &adam";
160        x "mkdir &ardata";
161        x "mkdir &code";
162        x "mkdir &dddata";
163        x "mkdir &documents";
164        x "mkdir &driver";
165        x "mkdir &output";
166        x "mkdir &pkdata";
167        x "mkdir &rawdata";
168        x "mkdir &refdata";
169        x "mkdir &logs";
170        x "mkdir &sdtm";
171        
172        %do z = 1 %to &compn;
173        data _null_;
174            call symput("crlib&z.C","&createlib_data.adamdata/&&lib&z..C/");
175            call symput("crlib&z.","&createlib_data.adamdata/&&lib&z../");
176        run;
177        
178        x "mkdir &&&crlib&z.C.";
179        x "mkdir &&crlib&z..";
180        
181        %end;
182        
183        %mend create_lib;
184        %create_lib;
185        
186        %end;
187        
188        **Create lib_list macro variable which is used throughout;
189        %macro create_lib_list;
190        %macro var;
191        
192        data lib_list;
193            %do a = 1 %to &compn.;
194                length lib $200;
195                lib= strip("&&lib&a..");
196                output;
197            %end;
198        run;
199        
200        %mend;
201        %var;
203        %macro create();
204        %let dsid=%sysfunc(open(lib_list));
205        %let cnt=%sysfunc(attrn(&dsid,nobs));
206            %do b=1 %to &cnt.;
207              %let rc=%sysfunc(fetchobs(&dsid,&b));
208              %cmpres(%sysfunc(getvarc(&dsid,%sysfunc(varnum(&dsid,lib)))))
209            %end;
210          %let rc=%sysfunc(close(&dsid));
211        %mend create;
5                                                          The SAS System                                12:44 Friday, March 3, 2023

213        %global lib_list;
214        %let lib_list = %create;
215        
216        %mend create_lib_list;
217        %create_lib_list;
218        
219        **First call filter_dd macro - which filters ISS datasets and outputs for just origin study records;
220        %macro filter_dd;
221            %macro filter(lib=,dset_in=);
222        
223            **Read in current ADaMs and output to compare folder filtered for each origin study;
224            libname comp "&complib_data.adamdata/&lib.C";
225        	libname adamdata "&mainlib_data.adamdata";
226            data comp.&dset_in;
227                set adamdata.&dset_in;
228        
229                %do i = 1 %to &compn.;
230        
231                %if &lib.=&&lib&i.. %then if &&filter&i..;;
232        
233                %end;
234            run;
235        
236            %mend;
237        
238            ** Create macro variables for all ADaMs created in ISS;
239            data files;
240             keep filename;
241             length fref $8 filename $80;
242             rc = filename(fref, "&mainlib_data.adamdata/");
243             if rc = 0 then
244             do;
245             did = dopen(fref);
246             rc = filename(fref);
247             end;
248             dnum = dnum(did);
249             do m = 1 to dnum;
250             filename = dread(did, m);
251             n = m;
252             /* If this entry is a file, then output. */
253             fid = mopen(did, filename);
254             if fid > 0
255             then
256             output;
257             end;
258             rc = dclose(did);
259             run;
260        
261             **Remove extension from filename and filter out any datasets we do not want to compare;
262             data files;
263                set files (where=(index(filename,".sas7bdat")>0));
264        
265                filename=compress(tranwrd(filename,".sas7bdat",""));
266        
267                if upcase(filename) not in (&ds_remove.);
268             run;
269        
270            **Count datasets;
6                                                          The SAS System                                12:44 Friday, March 3, 2023

271            %global ds_count;
272             proc sql noprint;
273                select count(*)
274                 into :ds_count
275                 from files;
276             quit;
277        
278            **Create macro variable for each dataset;
279             proc sql noprint;
280                select filename into: dsnam1 - :dsnam%left(&ds_count.)
281                from files;
282             quit;
283        
284             %do g = 1 %to &ds_count;
285             %global ds&g.;
286             %let ds&g.=%str(&&dsnam&g..);
287             %end;
288        
289            **Loop filter macro through each library and each dataset;
290            %local j next_lib;
291            %let j=1;
292            %do %while (%scan(&lib_list, &j) ne );
293               %let next_lib = %scan(&lib_list, &j);
294        
295                %do p = 1 %to &ds_count.;
296                   %filter(lib=&next_lib,dset_in=&&dsnam&p..);
297                %end;
298        
299               %let j = %eval(&j + 1);
300            %end;
301        %mend;
302        %filter_dd;
303        %put _global_;
304        **Get origin datasets ready for compare:
305          - Rederive treatment variables in ADSL and merge onto required datasets
306          - Rename or rederive any variables to allow for an easier compare;
307        %macro ds_comp_ready(inds=);
308        
309        *Individual Study ADaMs - check latests REs;
310        %macro test;
311        %do k = 1 %to &compn.;
312        libname &&lib&k.. &&complib&k..;
313        %end;
314        %mend;
315        %test;
316        
317        %macro assign_trt(lib=);
318        data adsl_&lib.;
319            set &lib..adsl (drop=trt01p trt01pn trt01a trt01an);
320        
321              ****STUDY SPECIFIC CODE - THIS WILL NEED TO BE UPDATED;
322              ***Reassign Treatment Variables to previous studies so they match ISS;
323              length trt01p trt01a $26 tr01pg1 tr01ag1 $10 tr01pg2 tr01ag2 $21 tr01pg3 tr01ag3 $30 tr01pg4 tr01ag4 $15;
324        
325              **Planned Treatments;
326            if STUDYID = "STUDY1" then do;
327        	    if trt01pn = 2 then trt01p = "Study Drug Dose 1";
328        	    if trt01an = 2 then trt01a = "Study Drug Dose 1";	
7                                                          The SAS System                                12:44 Friday, March 3, 2023

329            end;
330            if STUDYID = "STUDY2" then do;
331        		if trt01pn = 3 then do; trt01p = "Study Drug Dose 4"; trt01pn = 5; end;
332        	    if trt01an = 3 then do; trt01a = "Study Drug Dose 4"; trt01pn = 5; end;
333        
334            	if trt01pn = 2 then do; trt01p = "Study Drug Dose 3"; trt01pn = 4; end;
335        	    if trt01an = 2 then do; trt01a = "Study Drug Dose 3"; trt01an = 4; end;
336        	
337        	    if trt01pn = 1 then do; trt01p = "Study Drug Dose 2"; trt01pn = 3; end;
338        	    if trt01an = 1 then do; trt01a = "Study Drug Dose 2"; trt01an = 3; end;
339            end;
340        
341            if STUDYID = "STUDY3" then do;
342        	    if trt01pn = 1 then do; trt01p = "Study Drug Dose 1"; trt01pn = 2; end;
343        	    if trt01an = 1 then do; trt01a = "Study Drug Dose 1"; trt01an = 2; end;
344        	
345        	    if trt01pn = 2 then do; trt01p = "Study Drug Dose 2"; trt01pn = 3; end;
346        	    if trt01an = 2 then do; trt01a = "Study Drug Dose 2"; trt01an = 3; end;
347            end;
348        
349        	  **Pooled Treatments;
350        		if trt01p= "Placebo" then do;
351        			tr01pg1 = "Placebo";
352        			tr01pg1n = 1;
353        		end;
354        	    else do;
355        	        tr01pg1 = "Study Drug";
356        			tr01pg1n = 2;
357        	    end;
358        
359        		if trt01p= "Placebo" then do;
360        			tr01pg2 = "Placebo";
361        			tr01pg2n = 1;
362        		end;
363        	    if trt01pn in (2,3) then do;
364        	        tr01pg2 = "Study Drug Dose 1 & 2";
365        	        tr01pg2n = 2;
366        	    end;
367        	    else if trt01pn in (4,5) then do;
368        	        tr01pg2 = "Study Drug Dose 3 & 4";
369        	        tr01pg2n = 3;
370        	    end;
371        
372        		**Actual pooled;
373        		if trt01a= "Placebo" then do;
374        			tr01ag1 = "Placebo";
375        			tr01ag1n = 1;
376        		end;
377        	    else do;
378        	        tr01ag1 = "Study Drug";
379        			tr01ag1n = 2;
380        	    end;
381        		if trt01a= "Placebo" then do;
382        			tr01ag2 = "Placebo";
383        			tr01ag2n = 1;
384        		end;
385        	    if trt01an in (2,3) then do;
386        	        tr01ag2 = "Study Drug Dose 1 & 2";
8                                                          The SAS System                                12:44 Friday, March 3, 2023

387        	        tr01ag2n = 2;
388        	    end;
389        	    else if trt01an in (4,5) then do;
390        	        tr01ag2 = "Study Drug Dose 3 & 4";
391        	        tr01ag2n = 3;
392        	    end;
393        
394        run;
395        
396        **If NON-ADSL dataset is required for TLF comparison - then merge rederived treatments onto old dataset;
397        **If ADSL then just rename dataset to be in correct format;
398        libname comp "&complib_data.adamdata/&lib./";
399        
400        %do k = 1 %to &compn.;
401           %if %sysfunc(exist(&lib..&inds.)) %then %do;
402            %if &&lib&k.. = &lib. %then %do;
403                data &inds._pre;
404                    set &lib..&inds.;
405        
406                    %if &&compfilt&k.. ne %then %do;
407                    &&compfilt&k..;
408                    %end;
409                run;
410            %end;
411           %end;
412        %end;
413        
414        %let null = 0;
415        
416         %if %upcase(&inds.) ne ADSL %then %do;
417          %if %sysfunc(exist(&lib..&inds.)) %then %do;
418           data comp.&inds.;
419            merge &inds._pre (drop=trt0: trtp trtpn trta trtan  in=inDS) adsl_&lib. (keep=studyid usubjid trt0: tr0:);
420            by studyid usubjid;
421        
422            if inDS;
423        
424           run;
425          %end;
426        
427          %else %do;
428            %let null = 1;
429        
430            data comp.&inds.;
431                null = 1;
432            run;
433        
434          %end;
435         %end;
436         %else %do;
437           data comp.&inds.;
438             set adsl_&lib.;
439        
440           run;
441         %end;
442        /*
443        **Import CSV file for renaming variables - all variables that are in both studies just with diff names;
444        %if &null. ne 1 %then %do;
9                                                          The SAS System                                12:44 Friday, March 3, 2023

445        proc import datafile="&csv."
446        		out=renam dbms=csv replace;
447        	getnames=YES;
448        	guessingrows=max;
449        run;
450        
451        **Format memname to be the same as current datasets;
452        data renam_format;
453            set renam;
454            length memname $32;
455            memname = strip(dataset);
456        
457            drop dataset;
458        run;
459        
460        %let nam = %str(&lib._&inds._cont);
461        
462        data ds_in;
463            set %put &nam;;
464        run;
465        
466        **Proc Contents to get attributes for variables;
467        proc contents data=comp.&inds. out=ds_in noprint;
468        title 'before renaming';
469        run;
470        
471        **Set all attribute dataset together;
472        data cont_all;
473            set ds_in;
474        
475            lib="&lib.";
476        run;
477        **Merge attributes with renaming dataset and only keep variables that are in both;
478        **Create a macro variable of the list of dataset that will need a variable renamed;
479        proc sql noprint;
480            create table rename_identify as
481            select a.memname, a.name, b.new_var, b.study
482            from cont_all (where=(lib="&lib.")) as a, renam_format (where=(study="&lib.")) as b
483            where a.memname = b.memname and a.name=b.old_var;
484        
485            select distinct(memname) into: ds_list
486            separated by " "
487            from rename_identify;
488        quit;
489        
490        **Create order variable;
491        proc sort data=rename_identify;
492            by memname name;
493        run;
494        
495        data rename_identify;
496            set rename_identify;
497            by memname name;
498        
499            retain varnum 0;
500            if first.memname then varnum=1;
501            else varnum=varnum+1;
502        run;
10                                                         The SAS System                                12:44 Friday, March 3, 2023

503        
504        %end;
505        
506        %if %symexist(ds_list) %then %do;
507        
508        %macro renam(dsin=);
509        
510            **Read in required dataset and find number of vars required;
511            data rename_num;
512                set rename_identify (where=(memname="&dsin" and study="&lib."));
513                by memname varnum;
514        
515                if first.memname then call symput("start",strip(put(varnum,best.)));
516                if last.memname then call symput("end",strip(put(varnum,best.)));
517            run;
518        
519            **Count number of obs and only run renaming code if needed;
520            proc sql noprint;
521               select count(*) into: nobs
522               from rename_num;
523            quit;
524        
525            %if &nobs ne 0 %then %do;
526        
527            **Create a list the old variables and the new variables into a macro variable;
528            proc sql noprint;
529                select distinct(name) into: old_list
530                separated by " "
531                from rename_identify (where=(memname="&dsin"));
532                select distinct(name) into: old_sql
533                separated by ","
534                from rename_identify (where=(memname="&dsin"));
535                select distinct(new_var) into: new_list
536                separated by " "
537                from rename_identify (where=(memname="&dsin"));
538            quit;
539        
540            **Pull out the new variables and transpose so there is 1 record and all variables;
541            proc transpose data=rename_identify (where=(memname="&dsin")) out=new_var_t (keep=&new_list);
542                by memname;
543                id new_var;
544            run;
545        
546            data sortedby;
547                set sashelp.vcolumn;
548                where libname="ADAMDATA" and memname=upcase("&inds") and sortedby ne 0;
549            run;
550        
551            proc sql noprint;
552                select distinct(name) into: sorted_list
553                separated by " "
554                from sortedby;
555                 select distinct(name) into: sorted_sql
556                separated by ","
557                from sortedby;
558            quit;
559        
560            **Create a temporary dataset containing old variables and merge variables;
11                                                         The SAS System                                12:44 Friday, March 3, 2023

561            proc sql noprint;
562                create table temp as
563                select &old_sql, &sorted_sql
564                from comp.&dsin;
565            quit;
566        
567            **Create a second temporary dataset containing all variables but the old variables;
568            proc sort data=comp.&dsin. out=temp2 (drop=&old_list);
569                by &sorted_list;
570            run;
571        
572            %LET ds=%SYSFUNC(OPEN(temp,i));
573            %LET renam=%SYSFUNC(OPEN(new_var_t,i));
574        
575            **Renaming the variable process;
576            %do i=&start %to &end;
577                %let newnam&i=%SYSFUNC(VARNAME(&renam,&i));
578                %let dsvn&i=%SYSFUNC(VARNAME(&ds,&i));
579                %if %index(&sorted_list,%upcase(&&dsvn&i)) eq 0 %then %do;
580                    %let vn&i=&&newnam&i;
581        
582                **Use VCOLUMN dataset to get attributes so that we can set lengths/label varibles;
583                data var_props;
584                    set sashelp.vcolumn;
585                    where libname="COMP" and memname="&dsin." and name="&&dsvn&i.";
586                    if type ne "" then call symputx("type&i",type,"G");
587        
588                run;
589        
590                data var_props2;
591                    set sashelp.vcolumn;
592                    where libname="ADAMDATA" and memname=upcase("&inds") and name=upcase("&&newnam&i.");
593                    if label ne "" then call symputx("lab&i",label);
594                    if type = "char" then if length ne . then call symputx("len&i",length);
595               run;
596        
597               %end;
598            %end;
599        
600            **Finalising renaming process;
601            data temp_renam;
602            set temp;
603        
604            %do i=&start %to &end;
605            %if %index(&sorted_list,%upcase(&&dsvn&i)) eq 0 %then %do;
606            %if &&type&i eq char %then %do;
607            length &&vn&i $&&len&i;
608            %end;
609            &&vn&i=&&dsvn&i;
610            label &&vn&i = "&&lab&i.";
611            drop &&dsvn&i.;
612            %end;
613            %end;
614            %let rc=%SYSFUNC(CLOSE(&ds));
615            %let rc=%SYSFUNC(CLOSE(&renam));
616            run;
617        
618            proc sort data=temp_renam;
12                                                         The SAS System                                12:44 Friday, March 3, 2023

619                by &sorted_list;
620            run;
621        
622            **Merge data back together with new variables;
623            data comp.&dsin;
624                merge temp2 (drop=&new_list) temp_renam ;
625                by &sorted_list;
626            run;
627        
628            %end;
629        
630        %mend renam;
631        
632        **Take list of datasets required and loop renaming macro through;
633        %local k next_ds;
634        %let k=1;
635        %do %while (%scan(&ds_list, &k) ne );
636           %let next_ds = %scan(&ds_list, &k);
637           %renam(dsin=&next_ds);
638           %let k = %eval(&k + 1);
639        %end;
640        %end;
641        */
642        %mend assign_trt;
643        **Specify list of libraries and run macro through them;
644        %local q next_lib;
645        %let q=1;
646        %do %while (%scan(&lib_list, &q) ne );
647           %let next_lib = %scan(&lib_list, &q);
648           %assign_trt(lib=&next_lib);
649           %let q = %eval(&q + 1);
650        %end;
651        
652        %mend ds_comp_ready;
653        %macro comp_ready;
654        %do g = 1 %to &ds_count.;
655           %ds_comp_ready(inds=&&ds&g..);
656        %end;
657        %mend comp_ready;
658        %comp_ready;
659        
660        ***Now run macro to compare datasets;
661        %macro compare_dd (in=,comp=);
662        
663           %*- SET SYSTEM OPTIONS LOCALLY FOR THIS MACRO;
664           %* we are going to create a lot of output (e.g. proc compare) so set pagesize to max ;
665           %* first, save the current options so that we can restore at end of macro ;
666           %let original_PS = %sysfunc(getoption(PS));
667           %let original_ORIENTATION = %sysfunc(getoption(orientation));
668           options ps=max orientation=landscape;
669        
670           %* Setup ODS output for PDF file with name using macro parameter (filein) ;
671           %* with system date attached e.g. /path/to/file/name_27JUL21.pdf          ;
672           %* where filein=/path/to/file/name                                        ;
673           ods listing close;
674           ods noresults;
675           ods pdf file="&comploc.&in._Data_Compare.pdf";
676        
13                                                         The SAS System                                12:44 Friday, March 3, 2023

677           %macro comp_loop(lib=);
678        
679            %do t = 1 %to &compn;
680                %if &in.=&ds1. %then %do;
681                    libname compc "&complib_data.adamdata/&lib.C";
682                    libname comp "&complib_data.adamdata/&lib.";
683                %end;
684            %end;
685        
686         %* define a value to accumulate all the proc compare results into;
687        %let compres=0;
688        
689           %* Loop through every dataset in the original/old library and proc compare ;
690           %* with the dataset of same name in the new library.                       ;
691              title  "Compare of &in.";
692              title2 "from- &lib";
693              title3 "to- ISS";
694              proc compare base=comp.&in.
695                           compare=compc.&in.
696                           listall
697        				   maxprint=(50,2000);
698        	  run;
699              %* accumulate the sysinfo (which is a binary value);
700              %let compres = %sysfunc(bOR(&sysinfo, &compres.));
701        
702           %* once completed all proc compare, output result to log;
703           %put %str(IN)FO: PROC COMPARE result for all datasets is [&compres.];
704        
705           %mend comp_loop;
706        
707        **Specify list of libraries and run macro through them;
708            %local s next_lib;
709            %let s=1;
710            %do %while (%scan(&lib_list, &s) ne );
711               %let next_lib = %scan(&lib_list, &s);
712               %comp_loop(lib=&next_lib);
713               %let s = %eval(&s + 1);
714            %end;
715          ods pdf close;
716        
717           %* TIDY UP;
718        
719           %* restore the original PS (pagesize) option ;
720           options PS=&original_PS orientation=&original_ORIENTATION;
721        
722        %mend compare_dd;
723        
724        %do p = 1 %to &ds_count.;
725           %compare_dd(in=&&ds&p..);
726        %end;
727        
728        %end;
729        
730        ******** DISPLAY COMPARISON SECTION *****************;
731        %if &disp = Y %then %do;
732        **** SAS 2 TERMINAL CODE  ****;
733        data copy;
734          x echo Delete drivers from current folder to prevent overwriting;
14                                                         The SAS System                                12:44 Friday, March 3, 2023

735          x cd &complib.drivers/;
736          x \rm t_*.sas;
737          x echo Copy drivers from prod into test area;
738          x cd &drivlib.drivers;
739          x cp -p t_*.sas &complib.drivers/;
740          x echo Copy macros from prod into test area;
741          x cd &drivlib.code;
742          x cp -p rd_*.sas &complib.code/;
743          x cp -p td_*.sas &complib.code/;
744          x cp -p tu_*.sas &complib.code/;
745          x cp -p ts_*.sas &complib.code/;
746        run;
747        
748        data drivers;
749         keep filename n;
750         length fref $8 filename $80;
751         rc = filename(fref, "&complib.drivers/");
752         if rc = 0 then
753         do;
754         did = dopen(fref);
755         rc = filename(fref);
756         end;
757         dnum = dnum(did);
758         do c = 1 to dnum;
759         filename = dread(did, c);
760         n = c;
761        
762         fid = mopen(did, filename);
763         if fid > 0
764         then
765         output;
766         end;
767         rc = dclose(did);
768         run;
769        
770         data drivers;
771            set drivers;
772        
773            filename=compress(tranwrd(filename,".sas",""));
774         run;
775        
776         proc sql noprint;
777            select count(*)
778             into :file_count
779             from drivers;
780         quit;
781        
782         x echo File Count = &file_count;
783        
784        proc sql noprint;
785            select filename into: file1 - :file%left(&file_count.)
786            from drivers;
787        quit;
788        
789        data test;
790        
791        %macro rename(lib=);
792        
15                                                         The SAS System                                12:44 Friday, March 3, 2023

793        %let main = %sysfunc(scan(&mainlib.,-1));;
794        %let comp = %sysfunc(scan(&complib.,-1));;
795        
796        x echo Starting Lib &lib.;
797        %if &lib. ne &lib1. %then %do;
798        x cd &drivlib.drivers;
799        x cp -p t_*.sas /arenv/arwork/gsk4182136/mid215199/iss_01/test/drivers/;
800        %end;
801        x cd &complib.drivers/;
802        %do i = 1 %to &file_count; ;
803        x echo Rename file &&file&i;
804        %if &i = 1 %then %do;
805        x echo Main = &main;
806        x echo Comp = &comp;
807        %end;
808        
809            x cp -p &drivlib.drivers/&&file&i...sas &complib.drivers/&&file&i.._&lib..sas;
810            x sed -i "s+&main/+&main/&comp/+" &complib.drivers/&&file&i.._&lib..sas;
811            x sed -i 's+arprod/+arwork/+' &complib.drivers/&&file&i.._&lib..sas;
812            x sed -i "s+/adamdata+/adamdata/\&lib+g" &complib.drivers/&&file&i.._&lib..sas;
813            x sed -i "s/\.sas\>/_\&lib\.sas/g" &complib.drivers/&&file&i.._&lib..sas;
814            x sed -i "s+/&&file&i..\>+/&&file&i.._&lib.+g"  &complib.drivers/&&file&i.._&lib..sas;
815            x cd &complib.saslogs/;
816            x sas ../drivers/&&file&i.._&lib..sas;
817        %end;
818        %mend;
819        
820        %do d = 1 %to &compn.;
821        %rename(lib=&&lib&d..);
822        **ISS data filtered on specific study for comparison;
823        %rename(lib=&&lib&d..C);
824        %end;
825        
826        
827        run;
828        %macro compare_displays(ddlib=);
829        
830        data files;
831         keep filename n rc;
832         length fref $8 filename $80;
833         rc = filename(fref, "&drivlib.drivers/");
834             if rc = 0 then
835             do;
836             did = dopen(fref);
837             rc = filename(fref);
838             end;
839             dnum = dnum(did);
840             do i = 1 to dnum;
841             filename = dread(did, i);
842             n = i;
843        
844             fid = mopen(did, filename);
845             if fid > 0
846             then
847             output;
848             end;
849             rc = dclose(did);
850         run;
16                                                         The SAS System                                12:44 Friday, March 3, 2023

851        
852         data files;
853            set files (where=(index(filename,"t_")>0));
854        
855            filename=compress(tranwrd(filename,".sas",""));
856         run;
857        
858         proc sql noprint;
859            select count(*)
860             into :file_count
861             from files;
862         quit;
863        
864         %put &file_count;
865        
866        proc sql noprint;
867            select filename into: file1 - :file%left(&file_count.)
868            from files;
869        quit;
870        
871        
872        libname dddatac &ddlib.;
873        
874         %*- SET SYSTEM OPTIONS LOCALLY FOR THIS MACRO;
875           %* we are going to create a lot of output (e.g. proc compare) so set pagesize to max ;
876           %* first, save the current options so that we can restore at end of macro ;
877           %let original_PS = %sysfunc(getoption(PS));
878           %let original_ORIENTATION = %sysfunc(getoption(orientation));
879           options ps=max orientation=landscape;
880        
881           %* Setup ODS output for PDF file with name using macro parameter (filein) ;
882           %* with system date attached e.g. /path/to/file/name_27JUL21.pdf          ;
883           %* where filein=/path/to/file/name                                        ;
884           ods listing close;
885           ods noresults;
886           ods pdf file="&comploc.DDData_Compare.pdf";
887        
888           %macro comp_loop(lib=);
889           %do i = 1 %to &file_count; ;
890         %* define a value to accumulate all the proc compare results into;
891            %let compres=0;
892        
893           %* Loop through every dataset in the original/old library and proc compare ;
894           %* with the dataset of same name in the new library.                       ;
895              title  "Compare of display";
896              title2 "from- &lib";
897              title3 "to- ISS";
898              proc compare base=dddataC.&&file&i.._&lib.
899                           compare=dddataC.&&file&i.._&lib.C
900                           listall
901                           maxprint=(50,2000);
902              run;
903              %* accumulate the sysinfo (which is a binary value);
904              %let compres = %sysfunc(bOR(&sysinfo, &compres.));
905           %end;
906           %mend comp_loop;
907           %do d = 1 %to &compn.;
908           %comp_loop(lib=&&lib&d..);
17                                                         The SAS System                                12:44 Friday, March 3, 2023

909           %end;
910          ods pdf close;
911        
912           %* TIDY UP;
913        
914           %* restore the original PS (pagesize) option ;
915           options PS=&original_PS orientation=&original_ORIENTATION;
916        
917        %mend compare_displays;
918        
919        %compare_displays(ddlib="&complib.dddata");
920        
921        
922        %end;
923        
924        %mend iss_comparison;
925        %iss_comparison(
926        mainlib_data=%str(/mnt/data/US_PhUSE_ISS_Tool/ISS/),
927        mainlib=%str(/mnt/code/ISS/),
928        complib=%str(/mnt/code/ISS/test/),
929        complib_data=%str(/mnt/data/US_PhUSE_ISS_Tool/test/),
930        compn=3,
931        ds_remove =("NONE"),
932        lib1=STUDY1,
933        lib2=STUDY2,
934        lib3=STUDY3,
935        filter1=%str(STUDYID = "STUDY1"),
936        filter2=%str(STUDYID = "STUDY2"),
937        filter3=%str(STUDYID = "STUDY3"),
938        csv = %str(/mnt/code/CSV/ISS_Var_Rename.csv),
939        complib1=%str('/mnt/data/US_PhUSE_ISS_Tool/Original/STUDY1'),
940        complib2=%str('/mnt/data/US_PhUSE_ISS_Tool/Original/STUDY2'),
941        complib3=%str('/mnt/data/US_PhUSE_ISS_Tool/Original/STUDY3'),
942        comploc=%str(/mnt/code/ISS/Compares/),
943        compfilt1=,
944        compfilt2=,
945        compfilt3=,
946        compfilt4=,
947        compfilt5=,
948        disp = N,
949        drivlib = %str(/mnt/code/ISS/));

NOTE: The data set WORK.LIB_LIST has 3 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: The data set WORK.FILES has 2 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      


NOTE: There were 2 observations read from the data set WORK.FILES.
      WHERE INDEX(filename, '.sas7bdat')>0;
18                                                         The SAS System                                12:44 Friday, March 3, 2023

NOTE: The data set WORK.FILES has 2 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY1C
NOTE: Libref ADAMDATA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/ISS/adamdata

NOTE: Data file COMP.ADAE.DATA is in a format that is native to another host, or the file encoding does not match the session 
      encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.
NOTE: There were 22 observations read from the data set ADAMDATA.ADAE.
NOTE: The data set COMP.ADAE has 12 observations and 101 variables.
NOTE: DATA statement used (Total process time):
      real time           0.11 seconds
      cpu time            0.01 seconds
      

NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY1C
NOTE: Libref ADAMDATA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/ISS/adamdata

NOTE: Data file COMP.ADSL.DATA is in a format that is native to another host, or the file encoding does not match the session 
      encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.
NOTE: There were 30 observations read from the data set ADAMDATA.ADSL.
NOTE: The data set COMP.ADSL has 10 observations and 46 variables.
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.01 seconds
      

NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY2C
NOTE: Libref ADAMDATA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/ISS/adamdata

NOTE: Data file COMP.ADAE.DATA is in a format that is native to another host, or the file encoding does not match the session 
19                                                         The SAS System                                12:44 Friday, March 3, 2023

      encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.
NOTE: There were 22 observations read from the data set ADAMDATA.ADAE.
NOTE: The data set COMP.ADAE has 1 observations and 101 variables.
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.00 seconds
      

NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY2C
NOTE: Libref ADAMDATA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/ISS/adamdata

NOTE: Data file COMP.ADSL.DATA is in a format that is native to another host, or the file encoding does not match the session 
      encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.
NOTE: There were 30 observations read from the data set ADAMDATA.ADSL.
NOTE: The data set COMP.ADSL has 10 observations and 46 variables.
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.01 seconds
      

NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY3C
NOTE: Libref ADAMDATA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/ISS/adamdata

NOTE: Data file COMP.ADAE.DATA is in a format that is native to another host, or the file encoding does not match the session 
      encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.
NOTE: There were 22 observations read from the data set ADAMDATA.ADAE.
NOTE: The data set COMP.ADAE has 9 observations and 101 variables.
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.01 seconds
      

NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY3C
NOTE: Libref ADAMDATA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/ISS/adamdata

NOTE: Data file COMP.ADSL.DATA is in a format that is native to another host, or the file encoding does not match the session 
      encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.
NOTE: There were 30 observations read from the data set ADAMDATA.ADSL.
NOTE: The data set COMP.ADSL has 10 observations and 46 variables.
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.00 seconds
20                                                         The SAS System                                12:44 Friday, March 3, 2023

      

GLOBAL DS1 adae
GLOBAL DS2 adsl
GLOBAL DS_COUNT        2
GLOBAL LIB_LIST STUDY1                                                                                                      STUDY2  
                                                                                                    STUDY3
GLOBAL SYS_SQL_IP_ALL -1
GLOBAL SYS_SQL_IP_STMT 
NOTE: Libref STUDY1 was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/Original/STUDY1
NOTE: Libref STUDY2 was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/Original/STUDY2
NOTE: Libref STUDY3 was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/Original/STUDY3

NOTE: Variable tr01pg3 is uninitialized.
NOTE: Variable tr01ag3 is uninitialized.
NOTE: Variable tr01pg4 is uninitialized.
NOTE: Variable tr01ag4 is uninitialized.
NOTE: There were 10 observations read from the data set STUDY1.ADSL.
NOTE: The data set WORK.ADSL_STUDY1 has 10 observations and 59 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY1

NOTE: There were 12 observations read from the data set STUDY1.ADAE.
NOTE: The data set WORK.ADAE_PRE has 12 observations and 105 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 12 observations read from the data set WORK.ADAE_PRE.
NOTE: There were 10 observations read from the data set WORK.ADSL_STUDY1.
NOTE: The data set COMP.ADAE has 12 observations and 113 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      


NOTE: Variable tr01pg3 is uninitialized.
NOTE: Variable tr01ag3 is uninitialized.
NOTE: Variable tr01pg4 is uninitialized.
NOTE: Variable tr01ag4 is uninitialized.
NOTE: There were 10 observations read from the data set STUDY2.ADSL.
NOTE: The data set WORK.ADSL_STUDY2 has 10 observations and 59 variables.
NOTE: DATA statement used (Total process time):
21                                                         The SAS System                                12:44 Friday, March 3, 2023

      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY2

NOTE: There were 1 observations read from the data set STUDY2.ADAE.
NOTE: The data set WORK.ADAE_PRE has 1 observations and 103 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WORK.ADAE_PRE.
NOTE: There were 10 observations read from the data set WORK.ADSL_STUDY2.
NOTE: The data set COMP.ADAE has 1 observations and 111 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: Variable tr01pg3 is uninitialized.
NOTE: Variable tr01ag3 is uninitialized.
NOTE: Variable tr01pg4 is uninitialized.
NOTE: Variable tr01ag4 is uninitialized.
NOTE: There were 10 observations read from the data set STUDY3.ADSL.
NOTE: The data set WORK.ADSL_STUDY3 has 10 observations and 50 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY3

NOTE: There were 3 observations read from the data set STUDY3.ADAE.
NOTE: The data set WORK.ADAE_PRE has 3 observations and 96 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 3 observations read from the data set WORK.ADAE_PRE.
NOTE: There were 10 observations read from the data set WORK.ADSL_STUDY3.
NOTE: The data set COMP.ADAE has 3 observations and 104 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      

NOTE: Libref STUDY1 was successfully assigned as follows: 
      Engine:        V9 
22                                                         The SAS System                                12:44 Friday, March 3, 2023

      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/Original/STUDY1
NOTE: Libref STUDY2 was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/Original/STUDY2
NOTE: Libref STUDY3 was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/Original/STUDY3

NOTE: Variable tr01pg3 is uninitialized.
NOTE: Variable tr01ag3 is uninitialized.
NOTE: Variable tr01pg4 is uninitialized.
NOTE: Variable tr01ag4 is uninitialized.
NOTE: There were 10 observations read from the data set STUDY1.ADSL.
NOTE: The data set WORK.ADSL_STUDY1 has 10 observations and 59 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY1

NOTE: There were 10 observations read from the data set STUDY1.ADSL.
NOTE: The data set WORK.ADSL_PRE has 10 observations and 47 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 10 observations read from the data set WORK.ADSL_STUDY1.
NOTE: The data set COMP.ADSL has 10 observations and 59 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: Variable tr01pg3 is uninitialized.
NOTE: Variable tr01ag3 is uninitialized.
NOTE: Variable tr01pg4 is uninitialized.
NOTE: Variable tr01ag4 is uninitialized.
NOTE: There were 10 observations read from the data set STUDY2.ADSL.
NOTE: The data set WORK.ADSL_STUDY2 has 10 observations and 59 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY2

NOTE: There were 10 observations read from the data set STUDY2.ADSL.
NOTE: The data set WORK.ADSL_PRE has 10 observations and 47 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
23                                                         The SAS System                                12:44 Friday, March 3, 2023

      cpu time            0.00 seconds
      


NOTE: There were 10 observations read from the data set WORK.ADSL_STUDY2.
NOTE: The data set COMP.ADSL has 10 observations and 59 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: Variable tr01pg3 is uninitialized.
NOTE: Variable tr01ag3 is uninitialized.
NOTE: Variable tr01pg4 is uninitialized.
NOTE: Variable tr01ag4 is uninitialized.
NOTE: There were 10 observations read from the data set STUDY3.ADSL.
NOTE: The data set WORK.ADSL_STUDY3 has 10 observations and 50 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY3

NOTE: There were 10 observations read from the data set STUDY3.ADSL.
NOTE: The data set WORK.ADSL_PRE has 10 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 10 observations read from the data set WORK.ADSL_STUDY3.
NOTE: The data set COMP.ADSL has 10 observations and 50 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

NOTE: Writing ODS PDF output to DISK destination "/mnt/code/ISS/Compares/adae_Data_Compare.pdf", printer "PDF".
NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
NOTE: Libref COMPC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY1C
NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY1
NOTE: Libref COMPC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY1C
NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY1
NOTE: Libref COMPC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY1C
NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY1
NOTE: Data file COMPC.ADAE.DATA is in a format that is native to another host, or the file encoding does not match the session 
      encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.

NOTE: There were 12 observations read from the data set COMP.ADAE.
NOTE: There were 12 observations read from the data set COMPC.ADAE.
NOTE: At least one W.D format was too small for the number to be printed. The decimal may be shifted by the "BEST" format.
NOTE: PROCEDURE COMPARE used (Total process time):
      real time           0.11 seconds
      cpu time            0.05 seconds
      

INFO: PROC COMPARE result for all datasets is [7216]
NOTE: Libref COMPC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY2C
NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY2
NOTE: Libref COMPC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY2C
NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY2
NOTE: Libref COMPC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY2C
NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY2
NOTE: Data file COMPC.ADAE.DATA is in a format that is native to another host, or the file encoding does not match the session 
      encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.

NOTE: There were 1 observations read from the data set COMP.ADAE.
NOTE: There were 1 observations read from the data set COMPC.ADAE.
NOTE: PROCEDURE COMPARE used (Total process time):
      real time           0.04 seconds
      cpu time            0.02 seconds
      

INFO: PROC COMPARE result for all datasets is [7216]
NOTE: Libref COMPC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY3C
NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY3
NOTE: Libref COMPC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY3C
NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY3
NOTE: Libref COMPC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY3C
NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /mnt/data/US_PhUSE_ISS_Tool/test/adamdata/STUDY3
NOTE: Data file COMPC.ADAE.DATA is in a format that is native to another host, or the file encoding does not match the session 
      encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.

NOTE: There were 3 observations read from the data set COMP.ADAE.
NOTE: There were 9 observations read from the data set COMPC.ADAE.
NOTE: At least one W.D format was too small for the number to be printed. The decimal may be shifted by the "BEST" format.
NOTE: PROCEDURE COMPARE used (Total process time):
      real time           0.09 seconds
      cpu time            0.04 seconds
      

INFO: PROC COMPARE result for all datasets is [7344]
ERROR: Physical file does not exist, /mnt/code/ISS/Compares/adae_Data_Compare.pdf.
NOTE: Writing ODS PDF output to DISK destination "/mnt/code/ISS/Compares/adsl_Data_Compare.pdf", printer "PDF".
NOTE: Data file COMPC.ADSL.DATA is in a format that is native to another host, or the file encoding does not match the session 
      encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.

NOTE: Due to ERROR(s) above, SAS set option OBS=0, enabling syntax check mode. 
      This prevents execution of subsequent data modification statements.
NOTE: PROCEDURE COMPARE used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

INFO: PROC COMPARE result for all datasets is [32768]
NOTE: Data file COMPC.ADSL.DATA is in a format that is native to another host, or the file encoding does not match the session 
      encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.

NOTE: PROCEDURE COMPARE used (Total process time):
      real time           0.05 seconds
      cpu time            0.00 seconds
      

INFO: PROC COMPARE result for all datasets is [32768]
NOTE: Data file COMPC.ADSL.DATA is in a format that is native to another host, or the file encoding does not match the session 
      encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.

NOTE: PROCEDURE COMPARE used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

INFO: PROC COMPARE result for all datasets is [32768]
NOTE: ODS PDF printed no output. 
      (This sometimes results from failing to place a RUN statement before the ODS PDF CLOSE statement.)
950        
24                                                         The SAS System                                12:44 Friday, March 3, 2023

951        
952        

ERROR: Errors printed on page 23.

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           1.70 seconds
      cpu time            0.34 seconds
      
